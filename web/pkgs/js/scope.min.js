

/* web/pkgs/js/scope.min.js */
var scope={run:1,width:0,height:0,left:0,margin:0,x:0,y:0,prev_x:0,trace_count:0,trace_count_max:6,end:null};function scope_init(t,e){var l=scope;l.ctx=t.getContext("2d"),l.sec_per_sweep=w3_opt(e,"sec_per_sweep",10),l.srate=w3_opt(e,"srate",12e3),l.single_shot=w3_opt(e,"single_shot",0),l.background_color=w3_opt(e,"background_color","white"),l.line_height=w3_opt(e,"line_height",16),l.trace_height=w3_opt(e,"trace_height",12),l.width=w3_opt(e,"width",800),l.height=w3_opt(e,"height",200),l.left=w3_opt(e,"left",50),l.margin=w3_opt(e,"margin",1),l.y_set=l.margin+l.line_height,l.y_inc=l.margin+2*l.line_height,scope_clr()}function scope_clr(){var t=scope;t.trace_count=0,t.x_inc=t.left+(t.single_shot?0:64),t.y=t.y_set,t.ctx.fillStyle=t.background_color,t.ctx.fillRect(t.left,0,t.width+1,t.height)}function scope_draw(t,e,l,c,o,_){var i=scope;if(i.run){if(i.x_inc+=i.width/i.srate/i.sec_per_sweep,i.x=Math.round(i.x_inc),i.x>=i.left+i.width){if(i.trace_count++,i.single_shot&&i.trace_count>=i.trace_count_max)return void(i.run=0);i.x_inc=i.left,i.y+=i.y_inc,i.y>i.height-i.y_set&&(i.y=i.y_set),i.ctx.fillStyle=i.background_color,i.ctx.fillRect(i.left,i.y-i.y_set,i.width+1,i.y_inc)}t=w3_obj_num(t),e=w3_obj_num(e),l=w3_obj_num(l),c=w3_obj_num(c),o=w3_obj_num(o),_=w3_obj_num(_);var n=function(t){return t.num*i.trace_height};t.num&&i.x!=i.prev_x&&(i.ctx.fillStyle="cyan",i.ctx.globalAlpha=.3,i.ctx.fillRect(i.x,i.y-i.trace_height,1,2*i.trace_height),i.ctx.globalAlpha=1),null!=e&&(i.ctx.fillStyle=e.color?e.color:"#ff5050",i.ctx.fillRect(i.x,i.y-n(e),1,1)),null!=l&&(i.ctx.fillStyle=l.color?l.color:"orange",i.ctx.fillRect(i.x,i.y-n(l),1,1)),null!=c&&(i.ctx.fillStyle=c.color?c.color:"black",i.ctx.fillRect(i.x,i.y-Math.round(n(c)),1,1)),null!=o&&(i.ctx.fillStyle=o.color?o.color:"lime",i.ctx.fillRect(i.x,i.y-n(o),1,1)),null!=_&&_.num&&(i.ctx.fillStyle=1==_.num?"black":_.color,i.ctx.fillRect(i.x,i.y-i.trace_height,1,2*i.trace_height)),i.prev_x=i.x}}